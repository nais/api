package graph

// This file will be automatically regenerated based on the schema, any resolver implementations
// will be copied through when generating and any unknown code will be moved to the end.
// Code generated by github.com/99designs/gqlgen

import (
	"context"
	"fmt"

	"github.com/nais/api/internal/graph/gengql"
	"github.com/nais/api/internal/graph/loader"
	"github.com/nais/api/internal/graph/model"
	"github.com/nais/api/internal/slug"
)

// Team is the resolver for the team field.
func (r *bigQueryDatasetResolver) Team(ctx context.Context, obj *model.BigQueryDataset) (*model.Team, error) {
	return loader.GetTeam(ctx, obj.GQLVars.TeamSlug)
}

// Workload is the resolver for the workload field.
func (r *bigQueryDatasetResolver) Workload(ctx context.Context, obj *model.BigQueryDataset) (model.Workload, error) {
	return r.workload(ctx, obj.GQLVars.OwnerReference, obj.GQLVars.TeamSlug, obj.Env.Name)
}

// Team is the resolver for the team field.
func (r *bucketResolver) Team(ctx context.Context, obj *model.Bucket) (*model.Team, error) {
	return loader.GetTeam(ctx, obj.GQLVars.TeamSlug)
}

// Workload is the resolver for the workload field.
func (r *bucketResolver) Workload(ctx context.Context, obj *model.Bucket) (model.Workload, error) {
	return r.workload(ctx, obj.GQLVars.OwnerReference, obj.GQLVars.TeamSlug, obj.Env.Name)
}

// Team is the resolver for the team field.
func (r *kafkaTopicResolver) Team(ctx context.Context, obj *model.KafkaTopic) (*model.Team, error) {
	return loader.GetTeam(ctx, obj.GQLVars.TeamSlug)
}

// Workload is the resolver for the workload field.
func (r *kafkaTopicResolver) Workload(ctx context.Context, obj *model.KafkaTopic) (model.Workload, error) {
	return r.workload(ctx, obj.GQLVars.OwnerReference, obj.GQLVars.TeamSlug, obj.Env.Name)
}

// Team is the resolver for the team field.
func (r *openSearchResolver) Team(ctx context.Context, obj *model.OpenSearch) (*model.Team, error) {
	return loader.GetTeam(ctx, obj.GQLVars.TeamSlug)
}

// Workload is the resolver for the workload field.
func (r *openSearchResolver) Workload(ctx context.Context, obj *model.OpenSearch) (model.Workload, error) {
	return r.workload(ctx, obj.GQLVars.OwnerReference, obj.GQLVars.TeamSlug, obj.Env.Name)
}

// SQLInstance is the resolver for the sqlInstance field.
func (r *queryResolver) SQLInstance(ctx context.Context, name string, team slug.Slug, env string) (*model.SQLInstance, error) {
	return r.sqlInstanceClient.SqlInstance(ctx, env, team, name)
}

// KafkaTopic is the resolver for the kafkaTopic field.
func (r *queryResolver) KafkaTopic(ctx context.Context, name string, team slug.Slug, env string) (*model.KafkaTopic, error) {
	return r.kafkaClient.Topic(env, team, name)
}

// Team is the resolver for the team field.
func (r *redisResolver) Team(ctx context.Context, obj *model.Redis) (*model.Team, error) {
	return loader.GetTeam(ctx, obj.GQLVars.TeamSlug)
}

// Workload is the resolver for the workload field.
func (r *redisResolver) Workload(ctx context.Context, obj *model.Redis) (model.Workload, error) {
	return r.workload(ctx, obj.GQLVars.OwnerReference, obj.GQLVars.TeamSlug, obj.Env.Name)
}

// Database is the resolver for the database field.
func (r *sqlInstanceResolver) Database(ctx context.Context, obj *model.SQLInstance) (*model.SQLDatabase, error) {
	return r.sqlInstanceClient.SqlDatabase(obj)
}

// Team is the resolver for the team field.
func (r *sqlInstanceResolver) Team(ctx context.Context, obj *model.SQLInstance) (*model.Team, error) {
	return loader.GetTeam(ctx, obj.GQLVars.TeamSlug)
}

// Users is the resolver for the users field.
func (r *sqlInstanceResolver) Users(ctx context.Context, obj *model.SQLInstance) ([]*model.SQLUser, error) {
	return r.sqlInstanceClient.SqlUsers(ctx, obj)
}

// Workload is the resolver for the workload field.
func (r *sqlInstanceResolver) Workload(ctx context.Context, obj *model.SQLInstance) (model.Workload, error) {
	return r.workload(ctx, obj.GQLVars.OwnerReference, obj.GQLVars.TeamSlug, obj.Env.Name)
}

// BigQueryDataset returns gengql.BigQueryDatasetResolver implementation.
func (r *Resolver) BigQueryDataset() gengql.BigQueryDatasetResolver {
	return &bigQueryDatasetResolver{r}
}

// Bucket returns gengql.BucketResolver implementation.
func (r *Resolver) Bucket() gengql.BucketResolver { return &bucketResolver{r} }

// KafkaTopic returns gengql.KafkaTopicResolver implementation.
func (r *Resolver) KafkaTopic() gengql.KafkaTopicResolver { return &kafkaTopicResolver{r} }

// OpenSearch returns gengql.OpenSearchResolver implementation.
func (r *Resolver) OpenSearch() gengql.OpenSearchResolver { return &openSearchResolver{r} }

// Redis returns gengql.RedisResolver implementation.
func (r *Resolver) Redis() gengql.RedisResolver { return &redisResolver{r} }

// SqlInstance returns gengql.SqlInstanceResolver implementation.
func (r *Resolver) SqlInstance() gengql.SqlInstanceResolver { return &sqlInstanceResolver{r} }

type bigQueryDatasetResolver struct{ *Resolver }
type bucketResolver struct{ *Resolver }
type kafkaTopicResolver struct{ *Resolver }
type openSearchResolver struct{ *Resolver }
type redisResolver struct{ *Resolver }
type sqlInstanceResolver struct{ *Resolver }

// !!! WARNING !!!
// The code below was going to be deleted when updating resolvers. It has been copied here so you have
// one last chance to move it out of harms way if you want. There are two reasons this happens:
//   - When renaming or deleting a resolver the old code will be put in here. You can safely delete
//     it when you're done.
//   - You have helper methods in this file. Move them out to keep these resolver files clean.
func (r *kafkaTopicResolver) Env(ctx context.Context, obj *model.KafkaTopic) (*model.Env, error) {
	panic(fmt.Errorf("not implemented: Env - env"))
}
